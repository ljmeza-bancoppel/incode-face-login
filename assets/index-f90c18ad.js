(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();let l;const c=document.getElementById("app"),d=document.getElementById("login"),f=document.getElementById("login-button");function u(r=null){c.innerHTML="Algo ha salido mal, ver consola para mÃ¡s detalles...",console.log(r)}function m(r){try{l.renderLogin(c,{onSuccess:async t=>{const{token:s,transactionId:i,interviewToken:e,faceMatch:o,customerId:n,email:a}=t;console.log("response:",t),alert(`faceMatch: ${o}`),o?(console.log("token:",s),console.log("transactionId:",i),console.log("interviewToken:",e),console.log("faceMatch:",o),console.log("customerId:",n),console.log("email:",a),setTimeout(()=>{p(n,a,s,i,e,o),console.log("Waited for 1 seconds")},1e3)):setTimeout(()=>{u(new Error("Face did not match any user.")),console.log("Waited for 1 seconds")},1e3)},onError:t=>{u(t)},isOneToOne:!0,oneToOneProps:{identityId:r}})}catch(t){alert("Error!!"),console.error(t)}}function p(r,t,s,i,e,o){let n=`<div id="result"><p>Sucessfull Login:</p>
`;n+=`<div><p>CustomerId: ${r}</p></div>
`,n+=`<div><p>Email: ${t}</p></div>
`,n+=`<div>transactionId: ${i}</p></div>
`,n+=`<div>faceMatch: ${o}</div></div>`,c.innerHTML=n}async function g(){const r="https://demo-api.incodesmile.com",t=atob("NTJiMTQwYWQ0NjllODlhODg5NWQyNzg3OTYzMWU1MzcwOGQ2Y2Y3Zg==");l=window.OnBoarding.create({apiURL:r,apiKey:t}),c.innerHTML="Warming up...",await l.warmup(),c.innerHTML="",d.style.display="flex",f.addEventListener("click",s=>{s.preventDefault();const i=document.getElementById("identity-id");y(i)&&(d.style.display="none",m(i.value.trim()))})}function y(r){return r.value.trim().length==0?(alert("Completa el campo"),!1):!0}document.addEventListener("DOMContentLoaded",g);
