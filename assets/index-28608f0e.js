(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();let d;const s=document.getElementById("app"),a=document.getElementById("login"),f=document.getElementById("login-button");function u(t=null){s.innerHTML="Something Went Wrong, see console for details...",console.log(t)}function m(t){d.renderLogin(s,{onSuccess:async o=>{const{token:i,transactionId:r,interviewToken:e,faceMatch:n,customerId:c,email:l}=o;n?(console.log("token:",i),console.log("transactionId:",r),console.log("interviewToken:",e),console.log("faceMatch:",n),console.log("customerId:",c),console.log("email:",l),g(c,l,i,r,e,n)):u(new Error("Face did not match any user."))},onError:o=>{u(o)},isOneToOne:!0,oneToOneProps:{identityId:t}})}function g(t,o,i,r,e,n){s.innerHTML=`Sucessfull Login:<br/>
<div>CustomerId: ${t}</div>
<br/><div>Email: ${o}</div>
<br/><div>token: ${i}</div>
<br/><div>transactionId: ${r}</div>
<br/><div>interviewToken: ${e}</div>
<br/><div>faceMatch: ${n}</div>`}async function p(){const t="https://demo-api.incodesmile.com",o=atob("NTJiMTQwYWQ0NjllODlhODg5NWQyNzg3OTYzMWU1MzcwOGQ2Y2Y3Zg==");d=window.OnBoarding.create({apiURL:t,apiKey:o}),s.innerHTML="Warming up...",await d.warmup(),s.innerHTML="",a.style.display="flex",f.addEventListener("click",()=>{const i=document.getElementById("identity-id");a.style.display="none",m(i.value)})}document.addEventListener("DOMContentLoaded",p);
